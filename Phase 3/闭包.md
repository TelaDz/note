# 12-7

## 闭包的特性

1. 函数内再嵌套函数
2. 内部函数可以引用外层的参数和变量
3. 参数和变量不会被垃圾回收机制回收

## 闭包好处

1. 不会污染全局环境；
2. 可以进行形参的记忆，减少形参的个数,延长形参生命周期；
3. 方便进行模块化开发；

## 用途

1. 访问函数内部的变量
2. 防止函数内部的变量执行完城后被销毁，使其一直保存在内存中。

个人理解：闭包就是能够读取其他函数内部变量的函数；

使用闭包主要是为了设计私有的方法和变量。闭包的优点是可以避免全局变量的污染，缺点是闭包会常驻内存，会增大内存使用量，使用不当很容易造成内存泄露。在 js 中，函数即闭包，只有函数才会产生作用域的概念

## 在开发项目时什么地方用闭包

创建特权方法用于访问控制,权限认证

事件处理程序及回调

闭包就是父函数给子函数传值，解决作用域问题。

封装一个公共弹框，点击确定取消按钮，会触发退订事件，调用退订接口，成功之后还会刷新列表。

---

## 例子

写一个关于闭包的例子：

```js
function outer(x) {
// 参数相当于局部的变量
   function inner(y) {
       console.log(x + y);
}
   return inner;
}
var closure = outer(3);
closure(7); // 输出10
```

在es6出现之后一般使用let

闭包不能滥用，否则会导致内存泄露，影响网页的性能。

有些情况下，闭包使用完了后，要立即释放资源，将引用变量指向null。
